<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Naphome Phase 0.9 Development Specification</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333;
            line-height: 1.6;
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }
        
        header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }
        
        header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        
        header .subtitle {
            font-size: 1.2em;
            opacity: 0.95;
            margin-bottom: 20px;
        }
        
        header .meta {
            font-size: 0.9em;
            opacity: 0.9;
            margin-top: 20px;
        }
        
        .content {
            padding: 40px;
        }
        
        .section {
            margin-bottom: 40px;
        }
        
        .section h2 {
            color: #667eea;
            font-size: 1.8em;
            margin-bottom: 20px;
            border-bottom: 3px solid #667eea;
            padding-bottom: 10px;
        }
        
        .section h3 {
            color: #764ba2;
            font-size: 1.4em;
            margin-top: 30px;
            margin-bottom: 15px;
        }
        
        .section h4 {
            color: #555;
            font-size: 1.2em;
            margin-top: 20px;
            margin-bottom: 10px;
        }
        
        .highlight-box {
            background: #f8f9fa;
            border-left: 4px solid #667eea;
            padding: 20px;
            margin: 20px 0;
            border-radius: 5px;
        }
        
        .warning-box {
            background: #fff3e0;
            border-left: 4px solid #f57c00;
            padding: 20px;
            margin: 20px 0;
            border-radius: 5px;
        }
        
        .success-box {
            background: #e8f5e9;
            border-left: 4px solid #2e7d32;
            padding: 20px;
            margin: 20px 0;
            border-radius: 5px;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            font-size: 0.95em;
        }
        
        table th {
            background: #667eea;
            color: white;
            padding: 12px;
            text-align: left;
            font-weight: 600;
        }
        
        table td {
            padding: 10px 12px;
            border-bottom: 1px solid #ddd;
        }
        
        table tr:nth-child(even) {
            background: #f8f9fa;
        }
        
        table tr:hover {
            background: #e3f2fd;
        }
        
        .price-box {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: 10px;
            text-align: center;
            margin: 30px 0;
        }
        
        .price-box .amount {
            font-size: 3em;
            font-weight: bold;
            margin: 10px 0;
        }
        
        .price-box .label {
            font-size: 1.2em;
            opacity: 0.9;
        }
        
        ul, ol {
            margin-left: 30px;
            margin-top: 10px;
        }
        
        li {
            margin-bottom: 8px;
        }
        
        .status-badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 0.85em;
            font-weight: 600;
            margin-right: 8px;
        }
        
        .status-complete {
            background: #e8f5e9;
            color: #2e7d32;
        }
        
        .status-pending {
            background: #fff3e0;
            color: #f57c00;
        }
        
        .status-out-of-scope {
            background: #ffebee;
            color: #d32f2f;
        }
        
        .diagram {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            font-family: 'Courier New', monospace;
            font-size: 0.85em;
            overflow-x: auto;
        }
        
        .back-link {
            display: inline-block;
            margin-bottom: 20px;
            color: #667eea;
            text-decoration: none;
            font-weight: 600;
        }
        
        .back-link:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Naphome Phase 0.9 Development Specification</h1>
            <div class="subtitle">COTS Validation Hardware & Firmware Development</div>
            <div class="meta">
                <p><strong>Date:</strong> October 18, 2025</p>
                <p><strong>Client:</strong> Naphome Development Team</p>
                <p><strong>Document Version:</strong> 1.0</p>
            </div>
        </header>
        
        <div class="content">
            <a href="features.html" class="back-link">← Back to Features Page</a>
            
            <div class="price-box">
                <div class="label">FIRM FIXED PRICE</div>
                <div class="amount">$7,894.96</div>
                <div class="label">Development Timeline: 3 weeks billable, 4 weeks calendar (Nov 1 – Nov 30, 2025)</div>
            </div>
            
            <div class="highlight-box">
                <h3>Executive Summary</h3>
                <p>This quote outlines the complete development of Naphome Phase 0.9 (COTS Validation), including both hardware procurement and firmware development. This phase utilizes M5Stack components with identical ICs and pin connections to Phase I custom PCB, ensuring seamless firmware transition and validation of the exact production architecture.</p>
                <p><strong>IMPORTANT NOTE:</strong> This Phase 0.9 development work is completely separate from any factory liaison activities for Phase I (P1) or Phase II (P2) production. This quote covers only the COTS validation and firmware development for Phase 0.9, with no involvement in manufacturing, production setup, or factory coordination for future phases.</p>
            </div>
            
            <div class="section">
                <h2>Hardware Components (2x Units)</h2>
                <table>
                    <thead>
                        <tr>
                            <th>Component</th>
                            <th>Model</th>
                            <th>Quantity</th>
                            <th>Unit Price</th>
                            <th>Total</th>
                            <th>Purpose</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>M5Stack Atom S3R</td>
                            <td>ESP32-S3 with 0.85" display</td>
                            <td>2</td>
                            <td>$15</td>
                            <td>$30</td>
                            <td>Compact platform with Port A I2C and I2S output</td>
                        </tr>
                        <tr>
                            <td>STEMMA/QWIIC Cables</td>
                            <td>4-pin JST SH cables</td>
                            <td>5</td>
                            <td>$2</td>
                            <td>$10</td>
                            <td>I2C sensor daisy-chaining cables</td>
                        </tr>
                        <tr>
                            <td>Adafruit SHT30 STEMMA QT</td>
                            <td>Temperature & Humidity Sensor</td>
                            <td>2</td>
                            <td>$15</td>
                            <td>$30</td>
                            <td>High-accuracy T/H with STEMMA QT connector</td>
                        </tr>
                        <tr>
                            <td>SparkFun SCD30 Qwiic</td>
                            <td>CO₂ Sensor</td>
                            <td>2</td>
                            <td>$25</td>
                            <td>$50</td>
                            <td>High-accuracy CO₂ detection with Qwiic connector</td>
                        </tr>
                        <tr>
                            <td>Adafruit SGP30 STEMMA QT</td>
                            <td>VOC Sensor</td>
                            <td>2</td>
                            <td>$15</td>
                            <td>$30</td>
                            <td>VOC detection with humidity compensation</td>
                        </tr>
                        <tr>
                            <td>Sensirion SPS30</td>
                            <td>Professional PM sensor</td>
                            <td>2</td>
                            <td>$25</td>
                            <td>$50</td>
                            <td>High-accuracy particulate matter detection</td>
                        </tr>
                        <tr>
                            <td>Adafruit BH1750 STEMMA QT</td>
                            <td>Light Sensor</td>
                            <td>2</td>
                            <td>$8</td>
                            <td>$16</td>
                            <td>Ambient light measurement with 16-bit ADC</td>
                        </tr>
                        <tr>
                            <td>4x ICS-43434 I2S Mics</td>
                            <td>Professional I2S microphones</td>
                            <td>8</td>
                            <td>$3.12</td>
                            <td>$24.96</td>
                            <td>High-quality 4-microphone array for far-field detection</td>
                        </tr>
                        <tr>
                            <td>TPA3116D2 Breakout Board</td>
                            <td>3-10W Class-D Amplifier</td>
                            <td>2</td>
                            <td>$8</td>
                            <td>$16</td>
                            <td>Ready-to-use amplifier with I2S input and configurable power</td>
                        </tr>
                        <tr>
                            <td>A077 Proto Board</td>
                            <td>M5Stack ATOMIC DIY Kit</td>
                            <td>2</td>
                            <td>$3.50</td>
                            <td>$7.00</td>
                            <td>Prototyping board for 4-microphone array</td>
                        </tr>
                        <tr>
                            <td>2.5" Full-Range Drivers</td>
                            <td>4Ω 2.5" drivers + 3" passive radiator</td>
                            <td>2</td>
                            <td>$15</td>
                            <td>$30</td>
                            <td>Professional audio drivers (80Hz-18kHz) for high-quality sound</td>
                        </tr>
                        <tr>
                            <td>Adafruit PCA9685 STEMMA QT</td>
                            <td>16-Channel PWM Driver</td>
                            <td>2</td>
                            <td>$8</td>
                            <td>$16</td>
                            <td>I2C PWM driver for RGB LEDs</td>
                        </tr>
                        <tr>
                            <td>RGB LEDs</td>
                            <td>5mm RGB LEDs</td>
                            <td>10</td>
                            <td>$1</td>
                            <td>$10</td>
                            <td>RGB lighting system</td>
                        </tr>
                        <tr>
                            <td>USB-C Power Supply</td>
                            <td>5V/2A</td>
                            <td>2</td>
                            <td>$8</td>
                            <td>$16</td>
                            <td>Power supply for ESP32-S3</td>
                        </tr>
                        <tr>
                            <td>USB-C to 12V PD Adapter</td>
                            <td>Variable 9V-24V</td>
                            <td>2</td>
                            <td>$25</td>
                            <td>$50</td>
                            <td>12V power for TPA3116D2 amplifier</td>
                        </tr>
                        <tr>
                            <td>4-Pin Connector (Port A)</td>
                            <td>M5Stack Port A connector</td>
                            <td>2</td>
                            <td>$2</td>
                            <td>$4</td>
                            <td>I2C/I2S connector for Atom S3R external bus</td>
                        </tr>
                    </tbody>
                    <tfoot>
                        <tr style="background: #667eea; color: white; font-weight: bold;">
                            <td colspan="4">Hardware Subtotal</td>
                            <td colspan="2">$394.96</td>
                        </tr>
                    </tfoot>
                </table>
            </div>
            
            <div class="section">
                <h2>System Architecture</h2>
                
                <h3>ESP32-S3 Atom S3R Pin Assignments</h3>
                <table>
                    <thead>
                        <tr>
                            <th>Function</th>
                            <th>GPIO Pin</th>
                            <th>Signal</th>
                            <th>Connected To</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>I2C Master</td>
                            <td>GPIO2</td>
                            <td>SDA</td>
                            <td>External I2C Bus (Port A)</td>
                        </tr>
                        <tr>
                            <td>I2C Master</td>
                            <td>GPIO1</td>
                            <td>SCL</td>
                            <td>External I2C Bus (Port A)</td>
                        </tr>
                        <tr>
                            <td>I2S Audio</td>
                            <td>GPIO17</td>
                            <td>BCK</td>
                            <td>ICS-43434 Microphones, TPA3116D2 Amplifier</td>
                        </tr>
                        <tr>
                            <td>I2S Audio</td>
                            <td>GPIO3</td>
                            <td>LRCK</td>
                            <td>ICS-43434 Microphones, TPA3116D2 Amplifier</td>
                        </tr>
                        <tr>
                            <td>I2S Audio</td>
                            <td>GPIO48</td>
                            <td>DOUT</td>
                            <td>TPA3116D2 Amplifier</td>
                        </tr>
                        <tr>
                            <td>I2S Audio</td>
                            <td>GPIO4</td>
                            <td>DIN</td>
                            <td>ICS-43434 Microphones</td>
                        </tr>
                        <tr>
                            <td>UART</td>
                            <td>GPIO43</td>
                            <td>TX</td>
                            <td>SPS30 PM Sensor</td>
                        </tr>
                        <tr>
                            <td>UART</td>
                            <td>GPIO44</td>
                            <td>RX</td>
                            <td>SPS30 PM Sensor</td>
                        </tr>
                        <tr>
                            <td>GPIO</td>
                            <td>GPIO21</td>
                            <td>Data</td>
                            <td>PCA9685 RGB LED Driver</td>
                        </tr>
                        <tr>
                            <td>GPIO</td>
                            <td>GPIO7</td>
                            <td>IR_TX</td>
                            <td>IR Transmitter (built-in)</td>
                        </tr>
                    </tbody>
                </table>
                
                <h3>I2C Bus Architecture (External PORT.A)</h3>
                <table>
                    <thead>
                        <tr>
                            <th>Device</th>
                            <th>I2C Address</th>
                            <th>Function</th>
                            <th>Connection</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>SHT30</td>
                            <td>0x44</td>
                            <td>Temperature/Humidity</td>
                            <td>SDA:GPIO2, SCL:GPIO1</td>
                        </tr>
                        <tr>
                            <td>SGP30</td>
                            <td>0x58</td>
                            <td>VOC Sensor</td>
                            <td>SDA:GPIO2, SCL:GPIO1</td>
                        </tr>
                        <tr>
                            <td>BH1750FVI</td>
                            <td>0x23</td>
                            <td>Ambient Light</td>
                            <td>SDA:GPIO2, SCL:GPIO1</td>
                        </tr>
                        <tr>
                            <td>SCD30</td>
                            <td>0x61</td>
                            <td>CO₂ Sensor</td>
                            <td>SDA:GPIO2, SCL:GPIO1</td>
                        </tr>
                        <tr>
                            <td>PCA9685</td>
                            <td>0x40</td>
                            <td>RGB LED Driver</td>
                            <td>SDA:GPIO2, SCL:GPIO1</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            
            <div class="section">
                <h2>Development Scope & Timeline</h2>
                
                <h3>Week 1: Hardware Integration & Basic Drivers (48 hours)</h3>
                <ul>
                    <li><strong>Day 1-3:</strong> Core Platform Setup
                        <ul>
                            <li>ESP32-S3 System Initialization (12 hours)</li>
                            <li>STEMMA/QWIIC Sensor Integration (16 hours)</li>
                        </ul>
                    </li>
                    <li><strong>Day 4-5:</strong> Audio System Setup
                        <ul>
                            <li>I²S Audio Configuration (12 hours)</li>
                            <li>LED System (8 hours)</li>
                        </ul>
                    </li>
                </ul>
                
                <h3>Week 2: WiFi & Cloud Integration (48 hours)</h3>
                <ul>
                    <li><strong>Day 6-8:</strong> Network Stack
                        <ul>
                            <li>WiFi Implementation (12 hours)</li>
                            <li>MQTT Integration (16 hours)</li>
                            <li>Cloud Integration (12 hours)</li>
                        </ul>
                    </li>
                    <li><strong>Day 9-10:</strong> Sensor Telemetry
                        <ul>
                            <li>Sensor Data Publishing (8 hours)</li>
                        </ul>
                    </li>
                </ul>
                
                <h3>Week 3: Advanced Features & Validation (40 hours)</h3>
                <ul>
                    <li><strong>Day 11-13:</strong> Voice & Audio
                        <ul>
                            <li>Wake Word Detection - ESP-SR WakeNet integration (16 hours)</li>
                            <li>IR Blaster Control (8 hours)</li>
                        </ul>
                    </li>
                    <li><strong>Day 14-15:</strong> System Integration & Testing
                        <ul>
                            <li>End-to-End Testing (16 hours)</li>
                        </ul>
                    </li>
                </ul>
            </div>
            
            <div class="section">
                <h2>Phase 0.9 Validation Features</h2>
                <div class="success-box">
                    <ul>
                        <li><span class="status-badge status-complete">✅</span> ESP32-S3 system initialization</li>
                        <li><span class="status-badge status-complete">✅</span> STEMMA/QWIIC sensor integration (5 sensors)</li>
                        <li><span class="status-badge status-complete">✅</span> AWS IoT Core MQTT connectivity</li>
                        <li><span class="status-badge status-complete">✅</span> Basic wake word detection (1-2m range) - <strong>ESP-SR WakeNet</strong></li>
                        <li><span class="status-badge status-complete">✅</span> RGB LED control via PCA9685</li>
                        <li><span class="status-badge status-complete">✅</span> IR blaster functionality</li>
                        <li><span class="status-badge status-complete">✅</span> Audio output system (TPA3116D2)</li>
                        <li><span class="status-badge status-complete">✅</span> Sensor telemetry publishing</li>
                        <li><span class="status-badge status-complete">✅</span> 4-microphone hardware setup (future use)</li>
                        <li><span class="status-badge status-complete">✅</span> I2S audio architecture foundation</li>
                    </ul>
                </div>
            </div>
            
            <div class="section">
                <h2>Audio Processing Scope - Phase 0.9</h2>
                
                <div class="success-box">
                    <h4>What We WILL Deliver:</h4>
                    <ul>
                        <li><strong>Basic Wake Word Detection</strong>
                            <ul>
                                <li>Single ICS-43434 microphone input</li>
                                <li><strong>ESP-SR "Hey Naphome" wake word recognition</strong></li>
                                <li>Local processing with cloud speech streaming</li>
                                <li>1-2 meter effective range</li>
                            </ul>
                        </li>
                        <li><strong>Audio Output System</strong>
                            <ul>
                                <li>TPA3116D2 amplifier integration</li>
                                <li>I2S audio playback</li>
                                <li>Configurable power levels (3W/5W/10W)</li>
                                <li>Speaker output validation</li>
                            </ul>
                        </li>
                        <li><strong>Audio Architecture Foundation</strong>
                            <ul>
                                <li>I2S bus configuration</li>
                                <li>4-microphone hardware setup (for future use)</li>
                                <li>Audio processing pipeline structure</li>
                                <li>Integration with sensor telemetry</li>
                            </ul>
                        </li>
                    </ul>
                </div>
                
                <div class="warning-box">
                    <h4>What We WON'T Deliver in Phase 0.9:</h4>
                    <ul>
                        <li>❌ Far-Field Detection (4+ meters)</li>
                        <li>❌ Beamforming Algorithms</li>
                        <li>❌ Advanced Noise Cancellation</li>
                        <li>❌ Multi-Microphone Array Processing</li>
                        <li>❌ Directional Audio Detection</li>
                    </ul>
                </div>
            </div>
            
            <div class="section">
                <h2>Development Costs</h2>
                <table>
                    <thead>
                        <tr>
                            <th>Phase</th>
                            <th>Duration</th>
                            <th>Rate</th>
                            <th>Subtotal</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Week 1: Hardware Integration</td>
                            <td>1 week</td>
                            <td>$2,500/week</td>
                            <td>$2,500</td>
                        </tr>
                        <tr>
                            <td>Week 2: WiFi & Cloud Integration</td>
                            <td>1 week</td>
                            <td>$2,500/week</td>
                            <td>$2,500</td>
                        </tr>
                        <tr>
                            <td>Week 3: Advanced Features & Validation</td>
                            <td>1 week</td>
                            <td>$2,500/week</td>
                            <td>$2,500</td>
                        </tr>
                        <tr>
                            <td>Hardware Components</td>
                            <td>2x Units</td>
                            <td>-</td>
                            <td>$394.96</td>
                        </tr>
                    </tbody>
                    <tfoot>
                        <tr style="background: #667eea; color: white; font-weight: bold;">
                            <td colspan="3">Total Project Cost</td>
                            <td>$7,894.96</td>
                        </tr>
                    </tfoot>
                </table>
            </div>
            
            <div class="section">
                <h2>Deliverables</h2>
                
                <h3>Software Deliverables</h3>
                <ul>
                    <li>Complete Firmware Source Code (ESP-IDF based)</li>
                    <li>STEMMA/QWIIC sensor driver implementations</li>
                    <li>AWS IoT Core integration</li>
                    <li>Build and deployment scripts</li>
                    <li>MQTT telemetry publishing</li>
                    <li>Command subscription handling</li>
                    <li><strong>ESP-SR wake word detection integration</strong></li>
                    <li>IR blaster control system</li>
                </ul>
                
                <h3>Hardware Deliverables</h3>
                <ul>
                    <li>2x Complete COTS Development Kits</li>
                    <li>All 5 STEMMA/QWIIC sensors integrated and tested</li>
                    <li>I²S audio system functional</li>
                    <li>RGB LED lighting system working</li>
                </ul>
                
                <h3>Documentation</h3>
                <ul>
                    <li>Phase 0.9 technical specification</li>
                    <li>STEMMA/QWIIC sensor integration guide</li>
                    <li>AWS IoT Core setup guide</li>
                    <li>Validation test results</li>
                </ul>
            </div>
            
            <div class="section">
                <h2>Target Performance Metrics</h2>
                <table>
                    <thead>
                        <tr>
                            <th>Feature</th>
                            <th>Specification</th>
                            <th>Validation Method</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Audio Quality</td>
                            <td>Basic I²S audio output</td>
                            <td>Audio analyzer testing</td>
                        </tr>
                        <tr>
                            <td>Wake Word Detection</td>
                            <td>Local ESP-SR WakeNet (1-2m range)</td>
                            <td>Real-world testing</td>
                        </tr>
                        <tr>
                            <td>Sensor Accuracy</td>
                            <td>±5% vs reference sensors</td>
                            <td>Calibrated sensor comparison</td>
                        </tr>
                        <tr>
                            <td>WiFi Range</td>
                            <td>20m+ @ 2.4GHz</td>
                            <td>RF range testing</td>
                        </tr>
                        <tr>
                            <td>Cloud Latency</td>
                            <td>&lt;2s response time</td>
                            <td>MQTT message timing</td>
                        </tr>
                        <tr>
                            <td>Power Consumption</td>
                            <td>&lt;5W total system</td>
                            <td>Power measurement</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            
            <div class="highlight-box">
                <h3>Firm Fixed Price Guarantee</h3>
                <p><strong>Fixed Price:</strong> $7,894.96 with no additional charges for scope completion</p>
                <p><strong>No Change Orders:</strong> Price remains fixed regardless of technical challenges</p>
                <p><strong>Risk Absorption:</strong> All technical risks absorbed by contractor</p>
                <p><strong>Scope Completion:</strong> Full delivery of all specified features within budget</p>
            </div>
        </div>
    </div>
</body>
</html>
